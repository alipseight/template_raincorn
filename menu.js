(function(){if(!window.FA)window.FA={};if(FA.Nav){if(window.console&&console.warn)console.warn('FA.Nav has already been defined');return}FA.Nav={targetNode:'#primary_nav',customNav:'',keepDefault:true,collapsible:true,offsets:{tbVisible:{bottom:30,top:'49px'},tbHidden:{bottom:0,top:'0px'},toggler:'30px'},activeOffset:{},visible:false,checkState:function(){if(!FA.Nav.animating){var hidden=FA.Nav.barStatic.getBoundingClientRect().bottom<=FA.Nav.activeOffset.bottom;if(hidden&&FA.Nav.barSticky.style.top!=FA.Nav.activeOffset.top){if(FA.Nav.toggler)FA.Nav.toggler.style.top=FA.Nav.offsets.toggler;FA.Nav.barSticky.style.top=FA.Nav.activeOffset.top;FA.Nav.visible=true}else if(!hidden&&FA.Nav.barSticky.style.top!='-30px'){if(FA.Nav.toggler)FA.Nav.toggler.style.top='-30px';FA.Nav.barSticky.style.top='-30px';FA.Nav.visible=false}}},animating:false,animate:function(){if(FA.Nav.visible){FA.Nav.animating=true;FA.Nav.barSticky.style.transition='none';$(FA.Nav.barSticky).animate({top:FA.Nav.activeOffset.top},function(){FA.Nav.barSticky.style.transition='';FA.Nav.animating=false;FA.Nav.checkState()})}},toggle:function(){if(FA.Nav.barSticky.style.width=='100%'){my_setcookie('fa_sticky_nav','hidden');FA.Nav.barSticky.style.width='0%'}else{my_setcookie('fa_sticky_nav','shown');FA.Nav.barSticky.style.width='100%'}return false}};$(function(){FA.Nav.activeOffset=(my_getcookie('toolbar_state')=='fa_hide'||!_userdata.activate_toolbar)?FA.Nav.offsets.tbHidden:FA.Nav.offsets.tbVisible;if(!_userdata.activate_toolbar)FA.Nav.offsets.toggler='0px';FA.Nav.barStatic=document.querySelector?document.querySelector(FA.Nav.targetNode):$(FA.Nav.targetNode)[0];if(FA.Nav.barStatic){FA.Nav.barSticky=FA.Nav.barStatic.cloneNode(FA.Nav.keepDefault);if(FA.Nav.customNav)FA.Nav.barSticky.insertAdjacentHTML('beforeEnd',FA.Nav.customNav);FA.Nav.barSticky.id='fa_sticky_nav';FA.Nav.barSticky.style.width=my_getcookie('fa_sticky_nav')=='hidden'?'0%':'100%';FA.Nav.barSticky.style.top='-30px';document.body.appendChild(FA.Nav.barSticky);if(FA.Nav.collapsible){FA.Nav.toggler=document.createElement('A');FA.Nav.toggler.id='fa_sticky_toggle';FA.Nav.toggler.href='#';FA.Nav.toggler.style.top='-30px';FA.Nav.toggler.onclick=FA.Nav.toggle;document.body.appendChild(FA.Nav.toggler)};window.onscroll=FA.Nav.checkState;FA.Nav.checkState();$(function(){$('#fa_hide').click(function(){FA.Nav.activeOffset=FA.Nav.offsets.tbHidden;FA.Nav.animate()});$('#fa_show').click(function(){FA.Nav.activeOffset=FA.Nav.offsets.tbVisible;FA.Nav.animate()})})}})}());
